<div class="fu-header-top-row" [hidden]="!hasTopLine">
    <div id="pageHeaderTopTeleportSlot" [class.fu-has-skeleton]="teleportTopRowBaseSkeletons?.length" [style.gap]="teleportTopRowBaseSkeletonsGap">
        @for (skeleton of teleportTopRowBaseSkeletons; track skeleton) {
            <fusion-skeleton
                    [shape]="skeleton.shape ?? 'rectangle'"
                    [style.--fu-skeleton-width]="skeleton.width"
                    [style.--fu-skeleton-height]="skeleton.height"
                    [style.--fu-skeleton-border-radius]="skeleton.borderRadius"
            ></fusion-skeleton>
        }
    </div>
    @for (teleportItem of teleportTopRowElements; track teleportItem) {
        <div [id]="teleportItem.id" class="fu-header-top-teleport-host"
             [class.fu-flex-align-right]="teleportItem.isOnRight"
             [class.fu-has-skeleton]="teleportItem?.skeletons?.length"
             [style.gap]="teleportItem?.skeletonsGap"
        >
            @for (skeleton of teleportItem?.skeletons; track skeleton) {
                <fusion-skeleton
                        [shape]="skeleton.shape ?? 'rectangle'"
                        [style.--fu-skeleton-width]="skeleton.width"
                        [style.--fu-skeleton-height]="skeleton.height"
                        [style.--fu-skeleton-border-radius]="skeleton.borderRadius"
                ></fusion-skeleton>
            }

        </div>
    }
</div>
<div class="fu-header-main-row" [class.fu-header-drilldown]="isDrilldown" [class.fu-has-top-row]="hasTopLine">
    <fusion-icon-button *ngIf="isMultiline && headerContent?.hasBackButton"
                        iconName="ph/arrow-left"
                        size="large"
                        (click)="backButtonClicked.emit(headerContent?.hasBackButton)"></fusion-icon-button>
    <div class="fu-header-back-button" *ngIf="!isMultiline && headerContent?.hasBackButton">
        <fusion-icon class="fu-header-back-button-icon" [name]="{iconName:'arrow-back', iconVersion:'v3'}"
                     (click)="backButtonClicked.emit(headerContent?.hasBackButton)"></fusion-icon>
    </div>
    <div class="fu-page-title"
         [class.fu-page-has-subtitle]="headerContent?.subTitle"
         [class.fu-page-has-button-back]="headerContent?.hasBackButton"
    >{{ headerContent?.title }}
    </div>
    <ng-container *ngIf="headerContent?.subTitle">
        <div class="fu-header-delimiter"></div>
        <div class="fu-page-subtitle">{{ headerContent?.subTitle }}</div>
    </ng-container>
    <div *ngIf="headerContent?.actionComponent"
         class="fu-header-action-wrapper"
         [class.fu-action-wrapper-after-teleports]="headerContent?.actionAlignRight"
         [class.fu-flex-align-right]="headerContent?.actionAlignRight && !hasTeleportAlignRight"
    >
        <fusion-dynamic-components
                [component]="headerContent.actionComponent"
                [componentData]="headerContent.actionData">
        </fusion-dynamic-components>
    </div>
    @for (teleportItem of teleportElements; track teleportItem){
        <div class="fu-header-teleport-host"
             [id]="teleportItem.id"
             [class.fu-flex-align-right]="teleportItem.isOnRight"
             [class.fu-has-skeleton]="teleportItem?.skeletons?.length"
             [style.gap]="teleportItem?.skeletonsGap"
        >
            @for (skeleton of teleportItem?.skeletons; track skeleton) {
                <fusion-skeleton
                        [shape]="skeleton.shape ?? 'rectangle'"
                        [style.--fu-skeleton-width]="skeleton.width"
                        [style.--fu-skeleton-height]="skeleton.height"
                        [style.--fu-skeleton-border-radius]="skeleton.borderRadius"
                ></fusion-skeleton>
            }
        </div>
    }
</div>
<div class="fu-header-bottom-row" [hidden]="!hasBottomLine">
    <div id="pageHeaderBottomTeleportSlot" [class.fu-has-skeleton]="teleportBottomLineSkeletons" [style.gap]="teleportBottomLineSkeletonsGap">
        @for (skeleton of teleportBottomLineSkeletons; track skeleton) {
            <fusion-skeleton
                    [shape]="skeleton.shape ?? 'rectangle'"
                    [style.--fu-skeleton-width]="skeleton.width"
                    [style.--fu-skeleton-height]="skeleton.height"
                    [style.--fu-skeleton-border-radius]="skeleton.borderRadius"
            ></fusion-skeleton>
        }
    </div>
    @for (teleportItem of bottomTopRowElements; track teleportItem) {
        <div [id]="teleportItem.id" class="fu-header-bottom-teleport-host"
             [class.fu-flex-align-right]="teleportItem.isOnRight"
             [class.fu-has-skeleton]="teleportItem?.skeletons?.length"
             [style.gap]="teleportItem?.skeletonsGap"
        >
            @for (skeleton of teleportItem?.skeletons; track skeleton) {
                <fusion-skeleton
                        [shape]="skeleton.shape ?? 'rectangle'"
                        [style.--fu-skeleton-width]="skeleton.width"
                        [style.--fu-skeleton-height]="skeleton.height"
                        [style.--fu-skeleton-border-radius]="skeleton.borderRadius"
                ></fusion-skeleton>
            }
        </div>
    }
</div>

