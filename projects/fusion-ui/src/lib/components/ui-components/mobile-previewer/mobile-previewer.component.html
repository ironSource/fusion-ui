<div class="mobile-previewer-wrapper" [style.width.px]="width">
    <div class="mobile-previewer-container" [style.height.px]="height">
        <ng-container *ngIf="configurations.component || configurations.element; else template">
            <!--using refresh variable to refresh iframe when user change device-->
            <fusion-dynamic-components
                [element]="configurations.element"
                [component]="configurations.component?.type"
                [componentData]="configurations.component?.data"
                *ngIf="refresh"
            ></fusion-dynamic-components>
            <fusion-dynamic-components
                [element]="configurations.element"
                [component]="configurations.component?.type"
                [componentData]="configurations.component?.data"
                *ngIf="!refresh"
            ></fusion-dynamic-components>
        </ng-container>

        <ng-template #template>
            <ng-content></ng-content>
        </ng-template>
    </div>

    <div class="deviceSelectionFooter">
        <span class="selectedTitle">{{ selectedDevice }}</span>

        <span
            *ngFor="let device of devices"
            class="iconWrapper"
            [ngClass]="{selected: isDeviceSelected(device), landscape: isDeviceLandscape(device)}"
            (click)="selectDevice(device)"
        >
            <fusion-icon [class]="'icon-' + device" [name]="{iconName: device, iconVersion: (iconPrefix$ | async)}"></fusion-icon>
        </span>
    </div>
</div>
