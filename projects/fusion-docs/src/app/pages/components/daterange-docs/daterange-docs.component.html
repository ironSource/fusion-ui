<div class="row" *ngIf="styleVersion$ | async as currentStyleVersion">
    <div class="col-9">
        <!--UI-Component Examples-->
        <div class="is-example-title">Type</div>
        <fusion-example-block id="typeSingleDatePicker" title="Single Date Picker"
                              *ngIf="currentStyleVersion === StyleVersion.V2 || currentStyleVersion === StyleVersion.V3">
            <ng-template fusionExampleBlock="Angular">
                <fusion-code-block
                    lang="html"
                    class="is-collapsible"
                    code='<fusion-daterange [formControl]="datePicker" [options]="options"></fusion-daterange>'
                ></fusion-code-block>
                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="
options = {
    calendarAmount: 1,
    presets: false
};

datePicker: FormControl = new FormControl({
    date: new Date()
})
"
                ></fusion-code-block>
            </ng-template>
            <ng-template fusionExampleBlock="React">
                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="
import React from 'react';
import {FusionDaterange} from '@ironsource/fusion-ui/native/react';

const datepickerWrapperStyle = {'width': '240px'};

export default class DateRange extends React.Component {

    constructor(props) {
        super(props);
        this.state = {
            datepicker: {
                controlValue: {date: new Date()},
                options: {
                    calendarAmount: 1,
                    presets: false
                }
            }
        };
    }

    componentDidMount() {
        this.props.updateLayoutTitle('Date');
    }

    handleChange(stateName, value) {
        console.log(value);
        this.setState({
            [stateName]: {...this.state[stateName], controlValue: value}
        });
    }

    render() {
        return <div>
            <h2>Date Page</h2>
            <div style={datepickerWrapperStyle}>
                <FusionDaterange
                    controlValueChange={this.handleChange.bind(this, 'datepicker')}
                    config={this.state.datepicker}>
                </FusionDaterange>
            </div>
        </div>
    }

}
"
                ></fusion-code-block>
            </ng-template>
            <ng-template fusionExampleBlock="Vue">
                <fusion-code-block
                    lang="html"
                    class="is-collapsible"
                    code="<template>
    <div style='width: 240px;'>
        <div>
            <FusionDaterange :config='datepicker' @controlValueChange='dateChanged'></FusionDaterange>
        </div>
    </div>
</template>"
                ></fusion-code-block>
                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="import {FusionDaterange} from '@ironsource/fusion-ui/native/vue';

    export default {
        name: 'DateRange',
        data() {
            return {
                datepicker: {
                    controlValue: {
                        date: new Date()
                    },
                    options: {
                        calendarAmount: 1,
                        presets: false
                    }
                }
            }
        },
        components: {
            FusionDaterange
        },
        methods: {
            dateChanged: date => {
                console.log(date);
            }
        }
    }"
                ></fusion-code-block>
            </ng-template>
            <ng-template fusionExampleBlock="Native">
                <fusion-code-block
                    lang="html"
                    class="is-collapsible"
                    code='<div id="datepickerWrapper" style="width: 240px;"></div>'
                ></fusion-code-block>

                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="const onLoad = () => {
    const datepickerWrapper = document.getElementById('datepickerWrapper');
    const daterangeEl = document.createElement('native-fusion-daterange');

    daterangeEl.config = {
        controlValue: {
            date: new Date()
        },
        options: {
            calendarAmount: 1,
            presets: false
        }
    };
    daterangeEl.addEventListener('controlValueChange', e =>
        console.log(e.detail)
    );

    datepickerWrapper.appendChild(daterangeEl);
};

document.addEventListener('DOMContentLoaded', onLoad, false);"
                ></fusion-code-block>
            </ng-template>

            <div class="row">
                <div class="col-12">
                    <div class="daterangeWrapper">
                        <fusion-daterange [minDate]="daterangeMinDate" [maxDate]="daterangeMaxDate"
                                          [formControl]="daterangeDatePicker"
                                          [options]="optionOnlyDatePicker$ | async"></fusion-daterange>
                    </div>
                </div>
            </div>
        </fusion-example-block>

        <fusion-example-block id="typeRegularNoPreset" title="No Preset"
                              *ngIf="currentStyleVersion === StyleVersion.V2 || currentStyleVersion === StyleVersion.V3">
            <ng-template fusionExampleBlock="Angular">
                <fusion-code-block
                    lang="html"
                    class="is-collapsible"
                    code='<fusion-daterange [formControl]="daterangeDefault" [options]="options"></fusion-daterange>'
                ></fusion-code-block>
            </ng-template>
            <ng-template fusionExampleBlock="React">
                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="
import React from 'react';
import {FusionDaterange} from '@ironsource/fusion-ui/native/react';

const datepickerWrapperStyle = {'width': '240px'};

export default class DateRange extends React.Component {

    constructor(props) {
        super(props);
        this.state = {
            datepicker: {
                controlValue: {
                    startDate: new Date(),
                    endDate: new Date()
                },
                options: {
                    presets: false
                }
            }
        };
    }

    componentDidMount() {
        this.props.updateLayoutTitle('Date');
    }

    handleChange(stateName, value) {
        console.log(value);
        this.setState({
            [stateName]: {...this.state[stateName], controlValue: value}
        });
    }

    render() {
        return <div>
            <h2>Date Page</h2>
            <div style={datepickerWrapperStyle}>
                <FusionDaterange
                    controlValueChange={this.handleChange.bind(this, 'datepicker')}
                    config={this.state.datepicker}>
                </FusionDaterange>
            </div>
        </div>
    }

}
"
                ></fusion-code-block>
            </ng-template>
            <ng-template fusionExampleBlock="Vue">
                <fusion-code-block
                    lang="html"
                    class="is-collapsible"
                    code="<template>
    <div style='width: 240px;'>
                <div>
                    <FusionDaterange :config='datepicker' @controlValueChange='dateChanged'></FusionDaterange>
                </div>
    </div>
    </template>"
                ></fusion-code-block>
                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="import {FusionDaterange} from '@ironsource/fusion-ui/native/vue';

    export default {
        name: 'DateRange',
        data() {
            return {
                datepicker: {
                    controlValue: {
                        startDate: new Date(),
                        endDate: new Date()
                    },
                    options: {
                        presets: false
                    }
                }
            }
        },
        components: {
            FusionDaterange
        },
        methods: {
            dateChanged: date => {
                console.log(date);
            }
        }
    }"
                ></fusion-code-block>
            </ng-template>
            <ng-template fusionExampleBlock="Native">
                <fusion-code-block
                    lang="html"
                    class="is-collapsible"
                    code='<div id="datepickerWrapper" style="width: 240px;"></div>'
                ></fusion-code-block>

                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="const onLoad = () => {
    const datepickerWrapper = document.getElementById('datepickerWrapper');
    const daterangeEl = document.createElement('native-fusion-daterange');
    daterangeEl.config = {
        controlValue: {
            startDate: new Date(),
            endDate: new Date()
        },
        options: {
            presets: false
        }
    };
    daterangeEl.addEventListener('controlValueChange', e =>
        console.log(e.detail)
    );

    datepickerWrapper.appendChild(daterangeEl);

document.addEventListener('DOMContentLoaded', onLoad, false);"
                ></fusion-code-block>
            </ng-template>

            <div class="row">
                <div class="col-12">
                    <div class="daterangeWrapper">
                        <fusion-daterange
                            [formControl]="daterangeDefault"
                            [minDate]="minDate"
                            [maxDate]="maxDate"
                            [options]="optionNoPresets"
                        ></fusion-daterange>
                    </div>
                </div>
            </div>
        </fusion-example-block>

        <fusion-example-block id="typeRegular" title="Regular With Default Presets">
            <ng-template fusionExampleBlock="Angular">
                <fusion-code-block
                    lang="html"
                    class="is-collapsible"
                    code='<fusion-daterange [formControl]="daterange"></fusion-daterange>'
                ></fusion-code-block>
                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="import {DaterangePresets, DaterangeService} from '@ironsource/fusion-ui';

daterange: FormControl = new FormControl({
    this.daterangeService.getPresetRange(DaterangePresets.Yesterday)
})"
                ></fusion-code-block>
            </ng-template>
            <ng-template fusionExampleBlock="React">
                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="import React from 'react';
import {FusionDaterange} from '@ironsource/fusion-ui/native/react';

const datepickerWrapperStyle = {'width': '240px'};

export default class DateRange extends React.Component {

    constructor(props) {
        super(props);
        this.state = {
            datepicker: {
                controlValue: {
                    startDate: new Date(),
                    endDate: new Date()
                }
            }
        };
    }

    componentDidMount() {
        this.props.updateLayoutTitle('Date');
        this.setDefaultPeriod();
    }

    setDefaultPeriod() {
        const daterangePresets = window.fusion.enums.DaterangePresets;
        const daterangeService = window.fusion.services.daterangeService;
        this.setState({
            datepicker: {
                ...this.state.datepicker, controlValue: daterangeService.getPresetRange(
                    daterangePresets.Last7Days
                )
            }
        });
    }

    handleChange(stateName, value) {
        console.log(value);
        this.setState({
            [stateName]: {...this.state[stateName], controlValue: value}
        });
    }

    render() {
        return <div>
            <h2>Date Page</h2>
            <div style={datepickerWrapperStyle}>
                <FusionDaterange
                    controlValueChange={this.handleChange.bind(this, 'datepicker')}
                    config={this.state.datepicker}>
                </FusionDaterange>
            </div>
        </div>
    }

}"
                ></fusion-code-block>
            </ng-template>
            <ng-template fusionExampleBlock="Vue">
                <fusion-code-block
                    lang="html"
                    class="is-collapsible"
                    code="<template>
    <div style='width: 240px;'>
        <div>
            <FusionDaterange :config='daterange' @controlValueChange='dateChanged'></FusionDaterange>
        </div>
    </div>
</template>"
                ></fusion-code-block>
                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="import {FusionDaterange} from '@ironsource/fusion-ui/native/vue';

    export default {
        name: 'DateRange',
        mounted() {
            setTimeout(this.setDefaultPeriod);
        },
        data() {
            return {
                daterange: {
                    controlValue: {
                        startDate: new Date(),
                        endDate: new Date()
                    }
                }
            }
        },
        components: {
            FusionDaterange
        },
        methods: {
            dateChanged: date => {
                console.log(date);
            },
            setDefaultPeriod() {
                const selectedPeriod = window.fusion.services.daterangeService.getPresetRange(
                    window.fusion.enums.DaterangePresets.Yesterday
                );
                this.daterange = {...this.daterange, controlValue: selectedPeriod};
            }
        }
    }"
                ></fusion-code-block>
            </ng-template>
            <ng-template fusionExampleBlock="Native">
                <fusion-code-block
                    lang="html"
                    class="is-collapsible"
                    code='<div id="datepickerWrapper" style="width: 240px;"></div>'
                ></fusion-code-block>

                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="const onLoad = () => {
    const datepickerWrapper = document.getElementById('datepickerWrapper');
    const daterangeEl = document.createElement('native-fusion-daterange');
    const daterangePresets = window.fusion.enums.DaterangePresets;
    const daterangeService = window.fusion.services.daterangeService;
    daterangeEl.config = {
        controlValue: daterangeService.getPresetRange(daterangePresets.Last7Days)
    };
    daterangeEl.addEventListener('controlValueChange', e =>
        console.log(e.detail)
    );

    datepickerWrapper.appendChild(daterangeEl);

document.addEventListener('DOMContentLoaded', onLoad, false);"
                ></fusion-code-block>
            </ng-template>

            <div class="row">
                <div class="col-3">
                    <fusion-daterange [formControl]="daterangeDefault"></fusion-daterange>
                </div>
            </div>
        </fusion-example-block>
        <fusion-example-block id="typeOldDate" title="Custom Daterange & Presets">
            <ng-template fusionExampleBlock="Angular">
                <fusion-code-block
                    lang="html"
                    class="is-collapsible"
                    code='<fusion-daterange [formControl]="daterange" [options]="options"></fusion-daterange>'
                ></fusion-code-block>
                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="daterange: FormControl = new FormControl({
    startDate: new Date(Date.UTC(2020, 0, 3)),
    endDate: new Date(Date.UTC(2020, 5, 9))
});

options = {
    presets: [DaterangePresets.Today, DaterangePresets.Yesterday, DaterangePresets.ThisMonth, DaterangePresets.LastMonth]
};"
                ></fusion-code-block>
            </ng-template>
            <ng-template fusionExampleBlock="React">
                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="import React from 'react';
import {FusionDaterange} from '@ironsource/fusion-ui/native/react';

const datepickerWrapperStyle = {'width': '240px'};

export default class DateRange extends React.Component {

    constructor(props) {
        super(props);
        this.state = {
            daterange: {
                controlValue: {
                    startDate: new Date(Date.UTC(2020, 0, 3)),
                    endDate: new Date(Date.UTC(2020, 5, 9))
                },
                options: {presets: []}
            }
        };
    }

    componentDidMount() {
        this.props.updateLayoutTitle('Date');
        this.setDaterangeDefault();
    }

    setDaterangeDefault() {
        const daterangePresets = window.fusion.enums.DaterangePresets;
        this.setState({
            daterange: {
                ...this.state.daterange,
                options: {
                    presets: [
                        daterangePresets.Today,
                        daterangePresets.Yesterday,
                        daterangePresets.ThisMonth,
                        daterangePresets.LastMonth
                    ]
                }
            }
        });
    }

    handleChange(stateName, value) {
        console.log(value);
        this.setState({
            [stateName]: {...this.state[stateName], controlValue: value}
        });
    }

    render() {
        return <div>
            <h2>Date Page</h2>
            <div style={datepickerWrapperStyle}>
                <FusionDaterange
                    controlValueChange={this.handleChange.bind(this, 'daterange')}
                    config={this.state.daterange}>
                </FusionDaterange>
            </div>
        </div>
    }

}"
                ></fusion-code-block>
            </ng-template>
            <ng-template fusionExampleBlock="Vue">
                <fusion-code-block
                    lang="html"
                    class="is-collapsible"
                    code="<template>
    <div style='width: 240px;'>
        <div>
            <FusionDaterange :config='daterange' @controlValueChange='dateChanged'></FusionDaterange>
        </div>
    </div>
</template>"
                ></fusion-code-block>
                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="import {FusionDaterange} from '@ironsource/fusion-ui/native/vue';

    export default {
        name: 'DateRange',
        mounted() {
            setTimeout(this.setDefaultPeriod);
        },
        data() {
            return {
                daterange: {
                    controlValue: {
                        startDate: new Date(Date.UTC(2020, 0, 3)),
                        endDate: new Date(Date.UTC(2020, 5, 9))
                    },
                    options: {presets: []}
                }
            }
        },
        components: {
            FusionDaterange
        },
        methods: {
            dateChanged: date => {
                console.log(date);
            },
            setDefaultPeriod() {
                const daterangePresets = window.fusion.enums.DaterangePresets;
                this.daterange = {
                    ...this.daterange,
                    options: {
                        presets: [
                            daterangePresets.Today,
                            daterangePresets.Yesterday,
                            daterangePresets.ThisMonth,
                            daterangePresets.LastMonth
                        ]
                    }
                }
            }
        }
    }"
                ></fusion-code-block>
            </ng-template>
            <ng-template fusionExampleBlock="Native">
                <fusion-code-block
                    lang="html"
                    class="is-collapsible"
                    code='<div id="datepickerWrapper" style="width: 240px;"></div>'
                ></fusion-code-block>

                <fusion-code-block
                    lang="js"
                    class="is-collapsible"
                    code="const onLoad = () => {
     const datepickerWrapper = document.getElementById('datepickerWrapper');
    const daterangeEl = document.createElement('native-fusion-daterange');
    const daterangePresets = window.fusion.enums.DaterangePresets;
    daterangeEl.config = {
        controlValue: {
            startDate: new Date(Date.UTC(2020, 0, 3)),
            endDate: new Date(Date.UTC(2020, 5, 9))
        },
        options: {
            presets: [
                daterangePresets.Today,
                daterangePresets.Yesterday,
                daterangePresets.ThisMonth,
                daterangePresets.LastMonth
            ]
        }
    };
    daterangeEl.addEventListener('controlValueChange', e =>
        console.log(e.detail)
    );

    datepickerWrapper.appendChild(daterangeEl);

document.addEventListener('DOMContentLoaded', onLoad, false);"
                ></fusion-code-block>
            </ng-template>

            <div class="row">
                <div class="col-12">
                    <div class="daterangeWrapper">
                        <fusion-daterange [formControl]="daterangeCustom"
                                          [options]="options$ | async"></fusion-daterange>
                    </div>
                </div>
            </div>
        </fusion-example-block>
        <!--UI-Component Examples-->

        <!--UI-Component Configuration Doc-->
        <div class="is-example-title">Configuration</div>
        <fusion-example-block id="params" title="Parameters" [collapsible]="false">
            <fusion-code-block
                lang="js"
                code="// Input parameters:
id: string;                                 // optional
options: DaterangeOptions;                  // optional
presetsHeaderTemplate: TemplateRef<any>;    // optional
maxDate: Date;                              // optional
extraParams: any;                           // optional (used for cohort)

// Angular selected value
formControl: FormControl(DaterangeSelection)

// Native selected value
controlValue: DaterangeSelection

// Interface
DaterangeOptions {
    calendarAmount?: number;        // default - 2
    format?: string;                // default - 'd MMM y'
    presets?: DaterangePresets[];   // default - []
    size?: 'medium' | 'large';      // default - 'medium'
}

DaterangeSelection {
    startDate: Date;
    endDate: Date;
}

// Enums
DaterangePresets {
    Today = 1,
    Yesterday,
    Last3Days,
    Last7Days,
    Last14Days,
    Last30Days,
    ThisMonth,
    LastMonth
}

// Configuration data:
DEFAULT_DATE_FORMAT = 'd MMM y';
MONTH_NAMES = [
    'January',
    'February',
    'March',
    'April',
    'May',
    'June',
    'July',
    'August',
    'September',
    'October',
    'November',
    'December'
];
DAY_NAMES = ['SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'];
DEFAULT_DATERANGE_PRESET_LIST = [
    DaterangePresets.Today,
    DaterangePresets.Yesterday,
    DaterangePresets.Last7Days,
    DaterangePresets.Last14Days,
    DaterangePresets.Last30Days,
    DaterangePresets.ThisMonth,
    DaterangePresets.LastMonth
];
DEFAULT_DATERANGE_PRESET_NAMES = {
    [DaterangePresets.Today]:     'Today',
    [DaterangePresets.Yesterday]: 'Yesterday',
    [DaterangePresets.Last3Days]: 'Last 3 days',
    [DaterangePresets.Last7Days]: 'Last 7 days',
    [DaterangePresets.Last14Days]:'Last 14 days',
    [DaterangePresets.Last30Days]:'Last 30 days',
    [DaterangePresets.ThisMonth]: 'This month',
    [DaterangePresets.LastMonth]: 'Last month'
};"
            ></fusion-code-block>
        </fusion-example-block>
        <br/>
        <fusion-example-block id="events" title="Events" [collapsible]="false">
            <fusion-code-block
                lang="js"
                code="closed();
applied();
daySelected(DaterangeSelection)"
            ></fusion-code-block>
        </fusion-example-block>
        <!--UI-Component Configuration Doc-->
    </div>

    <div class="col-3 is-right-side-menu-holder">
        <fusion-docs-menu [menuData]="rightMenu"></fusion-docs-menu>
    </div>
</div>
